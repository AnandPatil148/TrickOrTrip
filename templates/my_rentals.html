{% extends "base.html" %}
{% block content %}
<h2 class="text-2xl font-bold mb-6 text-center">My Rentals</h2>

{% if rentals %}
  <div class="overflow-x-auto">
    <table class="w-full border-collapse shadow-lg rounded-lg overflow-hidden">
      <thead class="bg-blue-500 text-white">
        <tr>
          <th class="py-3 px-4 text-left">Gear</th>
          <th class="py-3 px-4 text-left">Start Date</th>
          <th class="py-3 px-4 text-left">End Date</th>
          <th class="py-3 px-4 text-left">Cost</th>
          <th class="py-3 px-4 text-left">Deposit</th>
          <th class="py-3 px-4 text-left">Fee</th>
          <th class="py-3 px-4 text-left">Status</th>
          <th class="py-3 px-4 text-left">Returned</th>
        </tr>
      </thead>
      <tbody class="bg-white divide-y">
        {% for r in rentals %}
          <tr class="hover:bg-gray-50 transition">
            <td class="py-3 px-4 font-medium text-blue-600">{{ r[0] }}</td>
            <td class="py-3 px-4 text-gray-700">{{ r[1] }}</td>
            <td class="py-3 px-4 text-gray-700">{{ r[2] }}</td>
            <td class="py-3 px-4 text-gray-900 font-semibold">₹{{ r[3] }}</td>
            <td class="py-3 px-4 text-gray-700">₹{{ r[5] }}</td>
            <td class="py-3 px-4 text-gray-700">₹{{ r[6] }}</td>
            <td class="py-3 px-4">
              {% if r[4] == "active" %}
                <span class="bg-green-100 text-green-700 px-3 py-1 rounded-full text-sm">Active</span>
              {% elif r[4] == "returned" %}
                <span class="bg-gray-100 text-gray-700 px-3 py-1 rounded-full text-sm">Returned</span>
              {% else %}
                <span class="bg-yellow-100 text-yellow-700 px-3 py-1 rounded-full text-sm">Pending</span>
              {% endif %}
            </td>
            <td class="py-3 px-4 text-gray-700">
              {{ r[7] if r[7] else "—" }}
            </td>
          </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>
{% else %}
  <p class="text-center text-gray-500">You haven’t rented anything yet 💤</p>
{% endif %}

<a href="/shop" class="block text-center mt-6 text-blue-600 hover:underline">← Back to Shop</a>
{% endblock %}
